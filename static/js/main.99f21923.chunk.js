(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),s=n.n(r),i=(n(15),n(6)),c=n(1),d=n(2),l=n(4),u=n(3),f=n(5),p=(n(17),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"buttons-container"},o.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleBtnPress},"Up"),o.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleBtnPress},"Down"),o.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleBtnPress},"Left"),o.a.createElement("button",{className:"btn btn-primary",onClick:this.props.handleBtnPress},"Right"))}}]),t}(a.Component)),h=(n(19),n(21),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"focus-indicator"},o.a.createElement("p",null,"Game Has Focus?"),o.a.createElement("div",{className:"focus"}))}}]),t}(a.Component)),m=(n(23),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"play-again"},o.a.createElement("p",null,"GAME OVER"),o.a.createElement("button",{className:"btn",onClick:this.props.resetGame},"Play Again?"))}}]),t}(a.Component)),b=n(7),v=(n(25),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.type;return"empty"===t?e=o.a.createElement("div",{className:"square"}):"snake"===t?e=o.a.createElement("div",{className:"square snake"},"Snake"):"head"===t?e=o.a.createElement("div",{className:"square head"},"Head"):"food"===t&&(e=o.a.createElement("div",{className:"square food"},"Food")),e}}]),t}(a.Component)),y=(n(27),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=function(){var e=0;return function(){return e+=1}}(),n=this.props.board.map(function(n,a){return n.map(function(n,r){var s=!0,i=!1,c=void 0;try{for(var d,l=e.props.snakeCoords[Symbol.iterator]();!(s=(d=l.next()).done);s=!0){var u=d.value,f=Object(b.a)(u,2),p=f[0],h=f[1];if(p===a&&h===r)return o.a.createElement(v,{key:t(),type:"snake"})}}catch(S){i=!0,c=S}finally{try{s||null==l.return||l.return()}finally{if(i)throw c}}var m=!0,y=!1,k=void 0;try{for(var C,O=e.props.foodCoords[Symbol.iterator]();!(m=(C=O.next()).done);m=!0){var j=C.value,E=Object(b.a)(j,2),w=E[0],g=E[1];if(w===a&&g===r)return o.a.createElement(v,{key:t(),type:"food"})}}catch(S){y=!0,k=S}finally{try{m||null==O.return||O.return()}finally{if(y)throw k}}return e.props.headCoords[0]===a&&e.props.headCoords[1]===r?o.a.createElement(v,{key:t(),type:"head"}):o.a.createElement(v,{key:t(),type:"empty"})})});return o.a.createElement("div",{className:"Board"},n)}}]),t}(a.Component));var k={intervalId:null,isPlaying:!0,isTurnTaken:!1,isFood:!1,board:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],headCoords:[1,3],snakeCoords:[[1,0],[1,1],[1,2]],foodCoords:[],direction:"down"},C=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state=k,n.focusOnApp=function(){n.appRef.current.focus()},n.handleKeyPress=function(e){var t=e.keyCode,a=n.state.direction;[65,37].includes(t)&&"right"!==a?n.setState({direction:"left"}):[87,38].includes(t)&&"down"!==a?n.setState({direction:"up"}):[68,39].includes(t)&&"left"!==a?n.setState({direction:"right"}):[83,40].includes(t)&&"up"!==a&&n.setState({direction:"down"})},n.handleBtnPress=function(e){var t=n.state.direction,a=e.target.innerText;"Up"===a&&"down"!==t?n.setState({direction:"up"}):"Down"===a&&"up"!==t?n.setState({direction:"down"}):"Left"===a&&"right"!==t?n.setState({direction:"left"}):"Right"===a&&"left"!==t&&n.setState({direction:"right"})},n.resetGame=function(){n.setState(k)},n.componentDidUpdate=function(){n.focusOnApp()},n.addFood=function(){for(var e=n.state.snakeCoords,t=[O(0,7),O(0,7)];n.isCollision(t,e);)console.log("food overlaps with snake"),t=[O(0,7),O(0,7)];n.setState(function(e){return{foodCoords:Object(i.a)(e.foodCoords).concat([t]),isFood:!0}})},n.moveSnake=function(){var e=n.state,t=e.board,a=e.foodCoords,o=e.headCoords,r=Object(i.a)(o),s=t.length,c=t[0].length;"right"===n.state.direction&&o[1]===c-1?r[1]=0:"right"===n.state.direction?r[1]+=1:"left"===n.state.direction&&0===r[1]?r[1]=c-1:"left"===n.state.direction?r[1]-=1:"down"===n.state.direction&&r[0]===s-1?r[0]=0:"down"===n.state.direction?r[0]+=1:"up"===n.state.direction&&0===r[0]?r[0]=s-1:"up"===n.state.direction&&(r[0]-=1),n.setState(function(e){var t=Object(i.a)(e.headCoords),o=Object(i.a)(e.snakeCoords);return n.isCollision(r,a)?(o.push(t),{headCoords:r,snakeCoords:o,foodCoords:[],isTurnTaken:!0,isFood:!1}):(o.shift(),n.isCollision(r,o)?(console.log("MURDER"),{isPlaying:!1}):(o.push(t),{headCoords:r,snakeCoords:o,isTurnTaken:!0}))}),n.state.isFood||n.addFood()},n.appRef=o.a.createRef(),n}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.moveSnake()},1e3);this.setState({intervalId:t}),console.log("intervalId",t),this.addFood(),this.focusOnApp()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"isCollision",value:function(e,t){return t.some(function(t){return t[0]===e[0]&&t[1]===e[1]})}},{key:"render",value:function(){return o.a.createElement("div",{className:"App",onKeyDown:this.handleKeyPress,tabIndex:"0",ref:this.appRef},this.state.isPlaying?o.a.createElement("div",null,o.a.createElement(y,{headCoords:this.state.headCoords,board:this.state.board,snakeCoords:this.state.snakeCoords,foodCoords:this.state.foodCoords}),o.a.createElement("div",{className:"user-feedback-container"},o.a.createElement(h,null),o.a.createElement(p,{handleBtnPress:this.handleBtnPress}))):o.a.createElement(m,{resetGame:this.resetGame}))}}]),t}(a.Component);function O(e,t){return Math.floor(Math.random()*t)+e}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,2,1]]]);
//# sourceMappingURL=main.99f21923.chunk.js.map