(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(23)},15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),s=(n(15),n(1)),c=n(2),l=n(4),d=n(3),u=n(5),f=(n(17),n(7)),h=n(6),v=(n(19),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props.type;return"empty"===t?e=o.a.createElement("div",{className:"square"}):"snake"===t?e=o.a.createElement("div",{className:"square snake"},"Snake"):"food"===t&&(e=o.a.createElement("div",{className:"square food"},"Food")),e}}]),t}(a.Component)),p=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("button",{onClick:this.props.handleBtnPress},"Up"),o.a.createElement("button",{onClick:this.props.handleBtnPress},"Down"),o.a.createElement("button",{onClick:this.props.handleBtnPress},"Left"),o.a.createElement("button",{onClick:this.props.handleBtnPress},"Right"))}}]),t}(a.Component),m=(n(21),{intervalId:null,isPlaying:!0,isTurnTaken:!1,isFood:!1,board:[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],snakeCoordinates:[[1,0],[1,1],[1,2],[1,3]],foodCoords:[],direction:"down"}),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state=m,n.handleKeyPress=function(e){var t=e.keyCode;[65,37].includes(t)?n.setState({direction:"left"}):[87,38].includes(t)?n.setState({direction:"up"}):[68,39].includes(t)?n.setState({direction:"right"}):[83,40].includes(t)&&n.setState({direction:"down"})},n.handleBtnPress=function(e){var t=e.target.innerText;"Up"===t?n.setState({direction:"up"}):"Down"===t?n.setState({direction:"down"}):"Left"===t?n.setState({direction:"left"}):"Right"===t&&n.setState({direction:"right"})},n.resetGame=function(){n.setState(m)},n.addFood=function(){for(var e=n.state.snakeCoordinates,t=[b(0,7),b(0,7)];n.isCollision(t,e);)console.log("food overlaps with snake"),t=[b(0,7),b(0,7)];n.setState(function(e){return{foodCoords:Object(h.a)(e.foodCoords).concat([t]),isFood:!0}})},n.moveSnake=function(){var e=n.state,t=e.snakeCoordinates,a=e.board,o=e.foodCoords,r=a.length,i=a[0].length,s=Object(h.a)(t[t.length-1]);"right"===n.state.direction&&s[1]===i-1?s[1]=0:"right"===n.state.direction?s[1]+=1:"left"===n.state.direction&&0===s[1]?s[1]=i-1:"left"===n.state.direction?s[1]-=1:"down"===n.state.direction&&s[0]===r-1?s[0]=0:"down"===n.state.direction?s[0]+=1:"up"===n.state.direction&&0===s[0]?s[0]=r-1:"up"===n.state.direction&&(s[0]-=1),n.setState(function(e){var t=Object(h.a)(e.snakeCoordinates);return n.isCollision(s,o)?(t.push(s),{snakeCoordinates:t,foodCoords:[],isTurnTaken:!0,isFood:!1}):(t.shift(),n.isCollision(s,t)?(console.log("MURDER"),{isPlaying:!1}):(t.push(s),{snakeCoordinates:t,isTurnTaken:!0}))}),n.state.isFood||n.addFood()},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.moveSnake()},1e3);this.setState({intervalId:t}),console.log("intervalId",t),this.addFood()}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"isCollision",value:function(e,t){return t.some(function(t){return t[0]===e[0]&&t[1]===e[1]})}},{key:"render",value:function(){var e=this;if(!this.state.isPlaying)return o.a.createElement("div",null,o.a.createElement("p",null,"GAME OVER"),o.a.createElement("button",{onClick:this.resetGame},"Play Again?"));var t=function(){var e=0;return function(){return e+=1}}(),n=this.state.board.map(function(n,a){return n.map(function(n,r){var i=!0,s=!1,c=void 0;try{for(var l,d=e.state.snakeCoordinates[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var u=l.value,h=Object(f.a)(u,2),p=h[0],m=h[1];if(p===a&&m===r)return o.a.createElement(v,{key:t(),type:"snake"})}}catch(S){s=!0,c=S}finally{try{i||null==d.return||d.return()}finally{if(s)throw c}}var y=!0,b=!1,k=void 0;try{for(var C,O=e.state.foodCoords[Symbol.iterator]();!(y=(C=O.next()).done);y=!0){var j=C.value,w=Object(f.a)(j,2),E=w[0],g=w[1];if(E===a&&g===r)return o.a.createElement(v,{key:t(),type:"food"})}}catch(S){b=!0,k=S}finally{try{y||null==O.return||O.return()}finally{if(b)throw k}}return o.a.createElement(v,{key:t(),type:"empty"})})});return o.a.createElement("div",{className:"Board",onKeyDown:this.handleKeyPress,tabIndex:"0"},n,o.a.createElement(p,{handleBtnPress:this.handleBtnPress}))}}]),t}(a.Component);function b(e,t){return Math.floor(Math.random()*t)+e}var k=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(y,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.e038d885.chunk.js.map